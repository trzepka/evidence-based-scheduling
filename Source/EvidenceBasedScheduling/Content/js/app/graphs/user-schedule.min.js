(function(){App.UserScheduleGraph=function(){function n(n,t){this.parentTagId=n;this.data=t}return n.prototype.draw=function(){var s,u,n,t,f,i,e,r,o;return s=d3.time.format("%Y-%m-%d"),t=new Date,n={top:20,right:20,bottom:30,left:60},f=960-n.left-n.right,u=500-n.top-n.bottom,this.svg=d3.select("#"+this.parentTagId).append("svg").attr("width",f+n.left+n.right).attr("height",u+n.top+n.bottom).append("g").attr("transform","translate("+n.left+","+n.top+")"),i=d3.time.scale().domain([t,d3.time.day.offset(t,d3.max(this.data,function(n){return n.stats.max})+2)]).range([0,f]),r=d3.scale.ordinal().domain(d3.map(this.data,function(n){return n.user.name}).keys()).rangePoints([0,u],1),e=d3.svg.axis().scale(i).orient("bottom").tickFormat(d3.time.format("%b %e")),o=d3.svg.axis().scale(r).orient("left").ticks(10),this.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+u+")").call(e),this.svg.append("g").attr("class","y axis").call(o).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Developers"),this.drawBar(i,r,t),this.drawFrontWhisker(i,r,t),this.drawBackWhisker(i,r,t),this.svg.selectAll(".median").data(this.data.filter(function(n){return n.stats.median!==n.stats.quartile1&&n.stats.median!==n.stats.quartile3})).enter().append("line").attr("class","median").attr("x1",function(n){return function(r){return n.getCoordinateFromDate(i,t,r.stats.median)}}(this)).attr("x2",function(n){return function(r){return n.getCoordinateFromDate(i,t,r.stats.median)}}(this)).attr("y1",function(n){return r(n.user.name)-10}).attr("y2",function(n){return r(n.user.name)+10})},n.prototype.drawBar=function(n,t,i){var r,u,e,f;return u=function(t){return function(r){return t.getCoordinateFromDate(n,i,r.stats.quartile1)}}(this),r=function(t){return function(r){return t.getCoordinateFromDate(n,i,r.stats.quartile3)}}(this),f=function(n){return n.stats.quartile1===n.stats.median&&n.stats.quartile3===n.stats.median?u(n)-3:u(n)},e=function(n){return n.stats.quartile1===n.stats.median&&n.stats.quartile3===n.stats.median?r(n)+3:r(n)},this.svg.selectAll(".bar").data(this.data).enter().append("rect").attr("class","bar").attr("x",function(n){return f(n)}).attr("height",20).attr("y",function(n){return t(n.user.name)-10}).attr("width",function(){return function(n){return e(n)-f(n)}}(this))},n.prototype.drawFrontWhisker=function(n,t,i){var r,f,e,u,o;return f=this.svg.selectAll(".front-whisker").data(this.data).enter(),u=function(n){return n.stats.min},e=function(n){return n.stats.quartile1},o=function(t){return function(r,u){return t.getCoordinateFromDate(n,i,u(r))}}(this),r=function(n){return u(n)===e(n)?o(n,u)-6:o(n,u)},f.append("line").attr("class","whisker").attr("x1",function(){return function(n){return r(n)}}(this)).attr("x2",function(t){return function(r){return t.getCoordinateFromDate(n,i,e(r))}}(this)).attr("y1",function(n){return t(n.user.name)}).attr("y2",function(n){return t(n.user.name)}),f.append("line").attr("class","whisker").attr("x1",function(){return function(n){return r(n)}}(this)).attr("x2",function(){return function(n){return r(n)}}(this)).attr("y1",function(n){return t(n.user.name)-10}).attr("y2",function(n){return t(n.user.name)+10})},n.prototype.drawBackWhisker=function(n,t,i){var f,r,u,e,o;return f=this.svg.selectAll(".back-whisker").data(this.data).enter(),e=function(n){return n.stats.quartile3},u=function(n){return n.stats.max},o=function(t){return function(r,u){return t.getCoordinateFromDate(n,i,u(r))}}(this),r=function(n){return e(n)===u(n)?o(n,u)+6:o(n,u)},f.append("line").attr("class","whisker").attr("x1",function(t){return function(r){return t.getCoordinateFromDate(n,i,e(r))}}(this)).attr("x2",function(){return function(n){return r(n)}}(this)).attr("y1",function(n){return t(n.user.name)}).attr("y2",function(n){return t(n.user.name)}),f.append("line").attr("class","whisker").attr("x1",function(){return function(n){return r(n)}}(this)).attr("x2",function(){return function(n){return r(n)}}(this)).attr("y1",function(n){return t(n.user.name)-10}).attr("y2",function(n){return t(n.user.name)+10})},n.prototype.getCoordinateFromDate=function(n,t,i){return n(d3.time.day.offset(t,i))},n}()}).call(this);
//# sourceMappingURL=user-schedule.min.js.map
